{% extends 'base/base.html' %}
{% load static %}
{% block body %}
<link rel="stylesheet" href="{% static 'css/style-landing.css' %}">

</head>

<body onload="coolAnims()">
    <div class="w-full flex flex-col justify-center items-center">
        <div
            class="w-full  flex xl:flex-row lg:flex-row flex-col-reverse hover:shadow-2xl transition-shadow duration-1000 ease-in-out">
            <div class="lg:w-1/2 xl:w-1/2 md:w-full flex justify-center items-center flex-col"
                style="background: var(--main-color);">
                <div id="timeline-pos">
                    <h1 class="text-white xl:text-6xl md:text-4xl text-2xl">TODAY</h1>
                    <div id="timeline" style="position: relative;">
                        <div class="container-event">
                            <div class="content-event">
                                <h1>Maths</h1>
                                <p>09:00 AM - 10:00 AM</p>
                            </div>
                        </div>
                        <div class="container-event">
                            <div class="content-event">
                                <h1>Physics</h1>
                                <p>10:00 AM - 11:00 AM</p>
                            </div>
                        </div>
                        <div class="container-event">
                            <div class="content-event">
                                <h1>English & Comm.</h1>
                                <p>11:00 AM - 12:00 PM</p>
                            </div>
                        </div>
                        <div class="container-event">
                            <div class="content-event">
                                <h1>Workshop</h1>
                                <p>02:00 PM - 05:00 PM</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="lg:w-1/2 xl:w-1/2 md:w-full flex  items-center" id="floating-elem"
                style="background-image: url('/static/images/bg.jpg'); background-position: center; background-size: cover;">
                <div class="bg-white lg:px-8 py-4 text-gray-700 rounded-lg flex justify-center items-center flex-col lg:items-start"
                    id="helloWorld">
                    <h1 class="xl:text-5xl lg:text-4xl text-2xl font-semibold" style="margin-bottom: 0.5em;">HELLO,
                        {{request.user.first_name}}</h1>
                    <h3 class="xl:text-2xl lg:text-xl text-lg xl:my-4 lg:my-3 font-semibold"
                        style="line-height: 1.6rem;">here is the Classes you have Today</h3>
                    <h3 class="xl:text-2xl lg:text-xl text-lg font-semibold lg:my-2 my-1"
                        style="margin-top: 1em; margin-bottom: 1em;" id="good-day">Have A Good Day!</h3>
                    <button
                        class="bg-blue-500 text-lg md:text-lg lg:text-xl text-white font-semibold rounded-lg hover:bg-blue-600"
                        id="checkout-btn">Checkout</button>
                </div>
            </div>
        </div>
    </div>
    <div class="bg-blue-100 w-full">
        <div class="block xl:w-3/5 lg:w-3/4 md:w-2/3 sm:w-4/5 w-11/12 mx-auto py-20 flex lg:flex-row flex-col-reverse">
            <div class="lg:w-3/4 w-full flex items-center bg-white" id="mess-sec">
                <div class="md:px-4 py-4">
                    <h1 class="xl:text-5xl lg:text-4xl md:text-3xl  text-2xl my-4">BREAKFAST</h1>
                    <h1 class="lg:text-xl text-lg md:my-6 my-3">Today's Breakfast Contains These <br> Items : </h1>
                    <h1 class="lg:text-xl text-lg md:my-6 my-3">Aloo Parantha + Tea + Achaar</h1>
                    <div class="py-3 flex lg:flex-row flex-col">
                        <button
                            class="px-16 py-2 bg-white border-2 mx-1 my-1 text-lg rounded-lg font-semibold">Yes</button>
                        <button
                            class="px-16 py-2 bg-white border-2 mx-1 my-1 text-lg rounded-lg font-semibold">No</button>
                    </div>
                </div>
            </div>
            <div class="lg:w-1/4 w-full bg-blue-300" style="box-shadow: 1px 1px 10px #3BB2B8;">
                <div class="bg-blue-300 lg:py-12 sm:py-6 py-3 px-4" id="choice">
                    <h1 class="text-blue-900 font-semibold text-xl">BREAKFAST&nbsp; <span
                            class="text-blue-800 bg-white rounded-full px-2  float-right">+</span></h1>
                </div>
                <div class="w-full bg-blue-300 lg:py-12 sm:py-6 py-3 px-4" id="choice">
                    <h1 class="text-blue-900 font-semibold text-xl">LUNCH&nbsp; <span
                            class="text-blue-800 bg-white rounded-full px-2 float-right">+</span></h1>
                </div>
                <div class="w-full bg-blue-300 lg:py-12 sm:py-6 py-3 px-4" id="choice">
                    <h1 class="text-blue-900 font-semibold text-xl">DINNER&nbsp; <span
                            class="text-blue-800 bg-white rounded-full px-2 float-right">+</span></h1>
                </div>
            </div>
        </div>
    </div>
    <!-- suugested communities -->
    <div class="horizontal-scroll flex flex-row bg-blue-500 ">
        {% for community in suggested %}
        <div class="border bg-gray-500 py-4 px-8 m-4 rounded " id="{{community.slug}}">
            <!-- image and name and admin -->
            <div class="flex  w-full flex-row ">

                <img src="/{{community.community_img.url}}" class="w-24  h-24 my-2 mr-4 md:mx-0 rounded-full">

                <div class=" flex flex-col ">
                    <h1 class="text-base sm:text-3xl md:text-xl text-center"> <a
                            href="{% url 'community:detail' community.slug %}">{{community.name}}</h1></a>
                    <br>
                    <h2 class="text-lg sm:text-xl md:text-xl capitalize">Admin:{{community.admin}}</h3>

                </div>
            </div>
            <!-- description -->
            <p class=" my-4 text-center text-justify">
                {{community.desc}}
            </p>
            <!-- follow/unfollow buttons -->
            {% if community.name != 'notice'%}
            {% if request.user in community.followed_by.all%}
            <a href="{%url 'community:leave' community.slug %}"
                class="float-right bg-white text-blue-500 px-4 py-2 text-lg rounded-md font-bold hover:bg-blue-500 hover:text-white border border-blue-500">&times;
                leave</a>
            {% else %}
            <a href="{% url 'community:join' community.slug%}"
                class="float-right bg-white text-blue-500 px-4 py-2 text-lg rounded-md font-bold hover:bg-blue-500 hover:text-white border border-blue-500">+
                join</a>
            {%endif%}
            {%endif%}

        </div>


        {% endfor %}
    </div>


    <!-- all posts followed by user  -->

    <div class=" px-10 py-10 ">
        {% if posts.count %}
        {% for post in posts %}
        {% if post.community in community_followed_by_user %}


        <!-- card start here -->
        <div
            class="border text-center font-sans mb-10 max-w-xl mx-auto rounded-lg flex flex-col bg-white hover:shadow-xl transition-all duration-500 ease-in-out">
            <!-- card header -->
            <div class="flex flex-col sm:flex-row justify-between sm:items-center items-start">
                <h2 class="mt-2 text-xl flex items-center">
                    <img src="/{{post.community.community_img.url}}" class="w-12 h-12 my-2 mx-3  rounded-full">
                    {{post.community.name}}
                </h2>
                {% if request.user == community.admin%}

                <a href="{% url 'community:update-post' post.id %}"
                    class="bg-white w-full sm:w-auto text-red-500 px-4 py-2 text-lg rounded-md font-bold hover:bg-red-500 hover:text-white border border-red-500">edit
                    this post</a>
                {% endif %}
            </div><!-- closing card header -->


            <!-- card content -->
            <div class="pr-4 py-2 ml-3">
                <h1 class="text-left text-lg my-2 mx-2 text-gray-500">{{post.created_at}}</h1>
                <h1 class="text-left font-black capitalize text-lg my-2 mx-2">{{post.post_title}}</h1>
            </div>
            {% if post.post_img %}
            <img src="/{{post.post_img.url}}" class="w-full px-2">
            {%endif%}
            <p class="clear-both my-2 mx-2 text-left px-4 py-2">{{post.post_desc}}</p>


        </div>
        {% endif %}
        {% endfor %}

        {% else %}
        <p>no post available</p>
        {%endif%}
    </div>




    <script>
        function coolAnims() {
            appear = setInterval(doit, 5)
            op = 0.0
            posi = screen.width > 1024 ? -100 : 0
            posf = screen.width > 1024 ? 0 : 100

            function doit() {
                if (posi > posf) {
                    clearInterval(appear)
                }
                document.getElementById('helloWorld').style.opacity = op;
                document.getElementById('helloWorld').style.top = posi + 'px'
                op += 0.01
                posi += 1
            }
        }
    </script>
    {% endblock %}