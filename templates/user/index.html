{% extends 'base/base.html' %}
{% load static %}
{% block body %}

<link rel="stylesheet" type="text/css" href="{% static 'css/index.css' %}" />


<div id="landing">

    <div class="content-container">
        <div class="content">
            <h3 id="status">Status:
                <a href="{%url 'qr:generateqr' %}" style="color: #25d30a;">
                    Generate QR
                </a>
                <span style="color: #25d30a;">

                </span>
                <br>
                <a href="#" style="font-size: 0.9rem; color: gray; font-weight: 600;">
                    {% if isInsideHostel%}
                    <p>Checkout->></p>
                    {% else %}
                    <p>Checkin&lt&lt-</p>
                    {%endif%}
                </a>
            </h3>
        </div>

        <div class="content" id="healthcare">
            <h3>
                HEALTHCARE FACILITIES
            </h3>
        </div>

        <div class="content" id="welcome">
            <h1 style="font-size: 1.5rem;">
                Tuesday, 13 May
            </h1><br>
            <p style="font-size: 1rem;">
                Good Morning !
                <br><br>
                Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed magni aperiam con
            </p>
        </div>




        <!-- App for meals -->
        {% include 'mess/mess.html' %}



        <!-- student timetable section -->
        <div class="content timetable-container">
            <div class="subject">
                <div class="subject-properties" id="class-time">9AM - 10AM</div>
                <div class="subject-properties" id="class-name">Maths</div>
                <div class="subject-properties" id="class-attendance">Your Attendance :85%</div>
                <div class="subject-properties" id="class-mark-attendance">Not Attending</div>
            </div>
            <div class="subject">
                <div class="subject-properties" id="class-time">9AM - 10AM</div>
                <div class="subject-properties" id="class-name">Maths</div>
                <div class="subject-properties" id="class-attendance">Your Attendance :85%</div>
                <div class="subject-properties" id="class-mark-attendance">Not Attending</div>
            </div>
            <div class="subject">
                <div class="subject-properties" id="class-time">9AM - 10AM</div>
                <div class="subject-properties" id="class-name">Maths</div>
                <div class="subject-properties" id="class-attendance">Your Attendance :85%</div>
                <div class="subject-properties" id="class-mark-attendance">Not Attending</div>
            </div>
            <div class="subject">
                <div class="subject-properties" id="class-time">9AM - 10AM</div>
                <div class="subject-properties" id="class-name">Maths</div>
                <div class="subject-properties" id="class-attendance">Your Attendance :85%</div>
                <div class="subject-properties" id="class-mark-attendance">Not Attending</div>
            </div>
            <div class="subject">
                <div class="subject-properties" id="class-time">9AM - 10AM</div>
                <div class="subject-properties" id="class-name">Maths</div>
                <div class="subject-properties" id="class-attendance">Your Attendance :85%</div>
                <div class="subject-properties" id="class-mark-attendance">Not Attending</div>
            </div>
            <div class="subject">
                <div class="subject-properties" id="class-time">9AM - 10AM</div>
                <div class="subject-properties" id="class-name">Maths</div>
                <div class="subject-properties" id="class-attendance">Your Attendance :85%</div>
                <div class="subject-properties" id="class-mark-attendance">Not Attending</div>
            </div>
        </div>
    </div>

    <!-- this is doc section -->
    <div>

        {% for doc in docs %}
        <div class="flex w-1/2 justify-around">

            <p>{{doc.doc}}</p>
            <p>{{doc.day}}</p>
            <p>{{doc.doc.spec}}</p>
            <p>{{doc.start_time}}</p>
            <p>{{doc.end_time}}</p>
        </div>
        {%endfor%}
    </div>
    <!-- suugested communities -->
    <div class="horizontal-scroll flex flex-row bg-blue-500 ">
        {% for community in suggested %}
        <div class="border bg-gray-500 py-4 px-8 m-4 rounded " id="{{community.slug}}">
            <!-- image and name and admin -->
            <div class="flex  w-full flex-row ">

                <img src="/{{community.community_img.url}}" class="w-24  h-24 my-2 mr-4 md:mx-0 rounded-full">

                <div class=" flex flex-col ">
                    <h1 class="text-base sm:text-3xl md:text-xl text-center"> <a
                            href="{% url 'community:detail' community.slug %}">{{community.name}}</h1></a>
                    <br>
                    <h2 class="text-lg sm:text-xl md:text-xl capitalize">Admin:{{community.admin}}</h3>

                </div>
            </div>
            <!-- description -->
            <p class=" my-4 text-center text-justify">
                {{community.desc}}
            </p>
            <!-- follow/unfollow buttons -->
            {% if community.name != 'notice'%}
            {% if request.user in community.followed_by.all%}
            <a href="{%url 'community:leave' community.slug %}"
                class="float-right bg-white text-blue-500 px-4 py-2 text-lg rounded-md font-bold hover:bg-blue-500 hover:text-white border border-blue-500">&times;
                leave</a>
            {% else %}
            <a href="{% url 'community:join' community.slug%}"
                class="float-right bg-white text-blue-500 px-4 py-2 text-lg rounded-md font-bold hover:bg-blue-500 hover:text-white border border-blue-500">+
                join</a>
            {%endif%}
            {%endif%}

        </div>


        {% endfor %}
    </div>


    <!-- all posts followed by user  -->

    <div class=" px-10 py-10 ">
        {% if posts.count %}
        {% for post in posts %}
        {% if post.community in community_followed_by_user %}


        <!-- card start here -->
        <div
            class="border text-center font-sans mb-10 max-w-xl mx-auto rounded-lg flex flex-col bg-white hover:shadow-xl transition-all duration-500 ease-in-out">
            <!-- card header -->
            <div class="flex flex-col sm:flex-row justify-between sm:items-center items-start">
                <h2 class="mt-2 text-xl flex items-center">
                    <img src="/{{post.community.community_img.url}}" class="w-12 h-12 my-2 mx-3  rounded-full">
                    {{post.community.name}}
                </h2>
                {% if request.user == community.admin%}

                <a href="{% url 'community:update-post' post.id %}"
                    class="bg-white w-full sm:w-auto text-red-500 px-4 py-2 text-lg rounded-md font-bold hover:bg-red-500 hover:text-white border border-red-500">edit
                    this post</a>
                {% endif %}
            </div><!-- closing card header -->


            <!-- card content -->
            <div class="pr-4 py-2 ml-3">
                <h1 class="text-left text-lg my-2 mx-2 text-gray-500">{{post.created_at}}</h1>
                <h1 class="text-left font-black capitalize text-lg my-2 mx-2">{{post.post_title}}</h1>
            </div>
            {% if post.post_img %}
            <img src="/{{post.post_img.url}}" class="w-full px-2">
            {%endif%}
            <p class="clear-both my-2 mx-2 text-left px-4 py-2">{{post.post_desc}}</p>


        </div>
        {% endif %}
        {% endfor %}

        {% else %}
        <p>no post available</p>
        {%endif%}
    </div>

    <!-- this is complaint section -->
    <div id="contact" class=" w-full bg-teal-200 font-sans mx-auto shadow-lg flex flex-col justify-around sm:flex-row">
        <div class="svg__container px-20 text-center items-center self-center my-4">
            <img src="{% static 'images/buildings.svg' %}" alt="svg image" class="w-48 h-48 md:w-64">
        </div>
        <div class="form__container text-center w-full max-w-2xl self-center">
            <h1 class="text-xl md:text-3xl font-bold capitalize my-4">need some help?</h1>
            <p class="text-lg md:text-xl font-light mb-4">feel free to ask.happy to help!</p>
            <form action="{% url 'user:complaint' %}" method="post" class=" mx-auto max-w-3xl mb-4 p-4 text-center ">
                {% csrf_token%}
                <textarea name="complaint" placeholder="tell us how can we help?" id="" cols="30" rows="10"
                    class="block text-base border-teal-500 capitalize w-11/12 md:w-full border shadow-xs p-2 bg-gray-100 mx-auto"></textarea>
                <button type="submit"
                    class="px-4 py-2 bg-blue-500 text-white mt-4 text-base capitalize font-bold rounded">register
                    complaint</button>
            </form>

        </div>
    </div>

    {% endblock %}